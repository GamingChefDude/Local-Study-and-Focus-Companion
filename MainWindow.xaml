<Window x:Class="Local_Study_and_Focus_Companion.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Local_Study_and_Focus_Companion"
        mc:Ignorable="d"

        Title="Focus Companion"
        Width="1280"
        Height="720"
        WindowStartupLocation="CenterScreen"
        >
    <Grid Background="#999999">
        <Grid.Resources>
            <!-- Base style -->
            <Style x:Key="SoftControlBase" TargetType="Control">
                <Setter Property="Background" Value="Beige"/>
                <Setter Property="BorderBrush" Value="Black"/>
                <Setter Property="BorderThickness" Value="1.5"/>
                <Setter Property="MinHeight" Value="25"/>
                <Setter Property="FontSize" Value="12"/>
                <Setter Property="Padding" Value="6,2"/>
            </Style>

            <!-- Main Widget style -->
            <Style x:Key="MainWidget" TargetType="Border">
                <Setter Property="CornerRadius" Value="25"/>
                <Setter Property="BorderBrush" Value="Black"/>
                <Setter Property="BorderThickness" Value="5"/>
                <Setter Property="Background" Value="LightGray"/>
                <Setter Property="HorizontalAlignment" Value="Left"/>
                <Setter Property="VerticalAlignment" Value="Top"/>
            </Style>

            <!-- Counter style -->
            <Style x:Key="counter" TargetType="Label">
                <Setter Property="Foreground" Value="Black"/>
                <Setter Property="FontSize" Value="36"/>
                <Setter Property="Content" Value="00"/>
                <Setter Property="HorizontalAlignment" Value="Left"/>
                <Setter Property="VerticalAlignment" Value="Center"/>
                <Setter Property="Padding" Value="0,0,0,0"/>
            </Style>
            
            <!-- Button style -->
            <Style TargetType="Button" BasedOn="{StaticResource SoftControlBase}">
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="Button">
                            <Border x:Name="border"
                            Background="{TemplateBinding Background}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            CornerRadius="5">
                                <ContentPresenter
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"/>
                            </Border>

                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter Property="Cursor" Value="Hand"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- TextBox style -->
            <Style TargetType="TextBox" BasedOn="{StaticResource SoftControlBase}">
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="TextBox">
                            <Border
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="8">

                                <ScrollViewer
                                    x:Name="PART_ContentHost"
                                    Padding="{TemplateBinding Padding}"/>
                            </Border>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <!-- ComboBox style -->
            <Style TargetType="ComboBox" BasedOn="{StaticResource SoftControlBase}">
                <Setter Property="SnapsToDevicePixels" Value="True"/>
                <Setter Property="OverridesDefaultStyle" Value="True"/>
                <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Auto"/>
                <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto"/>
                <Setter Property="ScrollViewer.CanContentScroll" Value="True"/>
                <Setter Property="MaxWidth" Value="42"/>
                <Setter Property="MinWidth" Value="42"/>

                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="ComboBox">
                            <Grid>
                                <Border
                                    Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="6" >

                                    <DockPanel>
                                        <TextBlock
                                            Text="{TemplateBinding Text}"
                                            VerticalAlignment="Center"
                                            Padding="6,0,0,0"
                                            Foreground="Black"
                                            IsHitTestVisible="False"/>

                                        <!-- Arrow button -->
                                        <ToggleButton
                                            DockPanel.Dock="Right"
                                            Width="18"
                                            IsChecked="{Binding IsDropDownOpen, RelativeSource={RelativeSource TemplatedParent}}"
                                            Focusable="False"
                                            Background="Transparent"
                                            BorderThickness="0">

                                            <Path
                                                Data="M 0 0 L 4 4 L 8 0 Z"
                                                Fill="Black"
                                                HorizontalAlignment="Center"
                                                VerticalAlignment="Center"/>
                                        </ToggleButton>

                                        <!-- Selected content -->
                                        <ContentPresenter
                                            Margin="{TemplateBinding Padding}"
                                            VerticalAlignment="Center"
                                            HorizontalAlignment="Left"
                                            Content="{TemplateBinding SelectionBoxItem}"
                                            ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                            ContentTemplateSelector="{TemplateBinding ItemTemplateSelector}"/>
                                    </DockPanel>
                                </Border>

                                <!-- Popup -->
                                <Popup
                                    Name="Popup"
                                    Placement="Bottom"
                                    IsOpen="{TemplateBinding IsDropDownOpen}"
                                    AllowsTransparency="True"
                                    Focusable="False"
                                    PopupAnimation="Slide">

                                    <Border
                                        Background="{TemplateBinding Background}"
                                        BorderBrush="{TemplateBinding BorderBrush}"
                                        BorderThickness="{TemplateBinding BorderThickness}"
                                        CornerRadius="6"
                                        Margin="0,2,0,0"
                                        Padding="2,2,2,2">

                                        <ScrollViewer>
                                            <ItemsPresenter/>
                                        </ScrollViewer>
                                    </Border>
                                </Popup>
                            </Grid>
                        </ControlTemplate>
                    </Setter.Value>
                </Setter>
            </Style>

            <Style TargetType="ComboBoxItem">
                <Setter Property="Background" Value="Beige"/>
                <Setter Property="Padding" Value="6,2"/>

                <Style.Triggers>
                    <Trigger Property="IsSelected" Value="True">
                        <Setter Property="Background" Value="#D8D4B0"/>
                    </Trigger>
                </Style.Triggers>
            </Style>

        </Grid.Resources>
        
        <!-- Timer Widget -->
        <Border
            Style="{StaticResource MainWidget}"
            Width="150"
            Height="200"
            Margin="12,12,0,0">



            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                    <RowDefinition Height="auto" />
                </Grid.RowDefinitions>
                
                <!-- Counter Labels -->
                <Label x:Name="sekCounter"
                    Style="{StaticResource counter}" 
                    Margin="97,0,0,0"/>

                <Label x:Name="minCounter"
                    Style="{StaticResource counter}" 
                    HorizontalAlignment="Center"/>

                <Label x:Name="hourCounter"
                    Style="{StaticResource counter}"
                    Margin="4,0,0,0"/>
                
                <Label x:Name="Space"
                    Style="{StaticResource counter}"
                    Content=":"
                    Margin="43,0,0,0"/>

                <Label x:Name="Space2"
                     Style="{StaticResource counter}"
                     Content=":"
                     Margin="89,0,0,0"/>

                <!-- Control Buttons -->
                <UniformGrid 
                    Grid.Row="1"
                    Columns="3"
                    Margin="12,0,12,12">

                    <Button Content="Start"
                            Background="Green"
                            Click="StartTimer"
                            Margin="0,0,6,0"/>

                    <Button Content="Stop"
                            Background="Red"
                            Click="StopTimer"/>

                    <Button Content="Reset"
                            Background="#6B7280"
                            Click="ResetTimer"
                            Margin="6,0,0,0"/>

                </UniformGrid>
            </Grid>
        </Border>
        
        <!-- Notes Widget -->
        <Border
            Style="{StaticResource MainWidget}"
            VerticalAlignment="Stretch"
            Width="600"
            Margin="174,12,0,12"
            Padding="7">

            <TextBox x:Name="noteBox"
                Background="Transparent"
                BorderThickness="0"
                AcceptsReturn="True"
                TextWrapping="Wrap"
                
                
                                
                FontSize="12"
                FontWeight="Medium"
                FontStyle="Normal">
            </TextBox>
        </Border>

        <!-- Text Changer Widget -->
        <Border
            Style="{StaticResource MainWidget}"
            Width="150"
            VerticalAlignment="Stretch"
            Padding="7"
            Margin="12,224,0,12">

            <StackPanel>
                <!-- File Name Lable -->
                <Label
                    Padding="0,0,0,0">          
                    File Name:
                </Label>

                <!-- File Name Changer -->
                <TextBox 
                    x:Name="fileName"
                    Width="auto"
                    Height="25"
    
                    VerticalAlignment="Top"
                    HorizontalAlignment="Stretch"
    
                    VerticalContentAlignment="Center">      
                </TextBox>

                <!-- Save/Load Buttons -->
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <!-- Save Button-->
                    <Button 
                        x:Name="saveButton"
                        Content="Save"

                        Grid.Column="0"
                        Margin="0,12,6,0"
        
                        Click="SaveFile">       
                    </Button>

                    <!-- Load Button-->
                    <Button 
                        x:Name="loadButton"
                        Content="Load"
        
                        Grid.Column="1"
                        Margin="6,12,0,0"

                        Click="LoadFile"></Button>
                </Grid>

                <!-- Size Changer -->
                <ComboBox 
                    x:Name="sizeChanger"
                    
                    IsEditable="True"
                    IsTextSearchEnabled="False"
                
                    VerticalAlignment="Top"
                    HorizontalAlignment="Left"
                    
                    SelectedIndex="0"
                    LostFocus="SizeChanger_Changed"
                    
                    Margin="0,12,0,0">

                    <ComboBoxItem Content="12"/>
                    <ComboBoxItem Content="14"/>
                    <ComboBoxItem Content="16"/>
                    <ComboBoxItem Content="18"/>
                    <ComboBoxItem Content="20"/>
                    <ComboBoxItem Content="24"/>

                </ComboBox>
            </StackPanel>
        </Border>
    </Grid>
</Window>
